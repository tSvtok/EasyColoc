@startuml Diagramme de Cas d'Utilisation - EasyColoc

left to right direction
skinparam packageStyle rectangle

actor "Visiteur" as Visitor
actor "Utilisateur" as User
actor "Proprietaire\n(de colocation)" as Owner
actor "Administrateur" as Admin

User --|> Visitor
Owner --|> User
Admin --|> User

rectangle "EasyColoc" {

    ' --- Visiteur ---
    usecase "S'inscrire" as UC_Register
    usecase "Se connecter" as UC_Login
    usecase "Voir une invitation\n(lien public)" as UC_ViewInvitation
    usecase "Reinitialiser\nle mot de passe" as UC_ResetPassword

    ' --- Utilisateur ---
    usecase "Voir le tableau de bord" as UC_Dashboard
    usecase "Gerer son profil" as UC_ManageProfile
    usecase "Modifier les\ninformations" as UC_EditProfile
    usecase "Modifier le\nmot de passe" as UC_ChangePassword
    usecase "Supprimer son compte" as UC_DeleteAccount
    usecase "Creer une colocation" as UC_CreateColoc
    usecase "Voir une colocation" as UC_ViewColoc
    usecase "Quitter une colocation" as UC_LeaveColoc
    usecase "Accepter une invitation" as UC_AcceptInvite
    usecase "Refuser une invitation" as UC_RefuseInvite
    usecase "Ajouter une depense" as UC_AddExpense
    usecase "Supprimer une depense" as UC_DeleteExpense
    usecase "Se deconnecter" as UC_Logout

    ' --- Proprietaire ---
    usecase "Modifier la colocation" as UC_EditColoc
    usecase "Annuler la colocation" as UC_CancelColoc
    usecase "Inviter un membre" as UC_InviteMember
    usecase "Retirer un membre" as UC_RemoveMember
    usecase "Gerer les categories" as UC_ManageCategories
    usecase "Ajouter une categorie" as UC_AddCategory
    usecase "Supprimer une categorie" as UC_DeleteCategory
    usecase "Recalculer les\nremboursements" as UC_RecalcSettlements
    usecase "Marquer un\npaiement comme paye" as UC_MarkPaid

    ' --- Admin ---
    usecase "Voir le panneau\nd'administration" as UC_AdminPanel
    usecase "Bannir un utilisateur" as UC_BanUser
    usecase "Debannir un utilisateur" as UC_UnbanUser

    ' --- Relations Visiteur ---
    Visitor --> UC_Register
    Visitor --> UC_Login
    Visitor --> UC_ViewInvitation
    Visitor --> UC_ResetPassword

    ' --- Relations Utilisateur ---
    User --> UC_Dashboard
    User --> UC_ManageProfile
    User --> UC_CreateColoc
    User --> UC_ViewColoc
    User --> UC_LeaveColoc
    User --> UC_AcceptInvite
    User --> UC_RefuseInvite
    User --> UC_AddExpense
    User --> UC_DeleteExpense
    User --> UC_Logout

    ' --- Relations Proprietaire ---
    Owner --> UC_EditColoc
    Owner --> UC_CancelColoc
    Owner --> UC_InviteMember
    Owner --> UC_RemoveMember
    Owner --> UC_ManageCategories
    Owner --> UC_RecalcSettlements
    Owner --> UC_MarkPaid

    ' --- Relations Admin ---
    Admin --> UC_AdminPanel
    Admin --> UC_BanUser
    Admin --> UC_UnbanUser

    ' --- Include / Extend ---
    UC_ManageProfile ..> UC_EditProfile : <<include>>
    UC_ManageProfile ..> UC_ChangePassword : <<include>>
    UC_ManageProfile ..> UC_DeleteAccount : <<include>>

    UC_ManageCategories ..> UC_AddCategory : <<include>>
    UC_ManageCategories ..> UC_DeleteCategory : <<include>>
}

@enduml
